#include <bits/stdc++.h>
using namespace std;
#define INF 2147483647
#define INFF 9223372036854775807
#define ll long long
#define REP(i,n) for(ll i=0;i<n;i++)
#define REPP(i,m,n) for(ll i=m;i<n;i++)
#define ALL(N) (N.begin(),N.end())
#define de cout << "debug" << endl;
#define pb push_back
template<class T> inline bool chmax(T& a, T b) { if (a < b) { a = b; return 1; } return 0; }
template<class T> inline bool chmin(T& a, T b) { if (a > b) { a = b; return 1; } return 0; }

ll H,W;
char S[401][401];
bool used[401][401];
queue<int> Q;
ll cntb = 0,cntw = 0;
ll dx[4]={0,1,0,-1};
ll dy[4]={1,0,-1,0};

void dfs(ll x,ll y){
    if(S[x][y] == '#') cntb++;
    else cntw++;
    used[x][y] = true;
    REP(i,4){
        ll nx = x + dx[i];
        ll ny = y + dy[i];
        if(nx < 0 || nx >= H || ny < 0 || ny >= W) continue;
        if(!used[nx][ny] && S[nx][ny] != S[x][y]) dfs(nx,ny);
    }
}

int main() {
    cin.tie(0);    
	ios::sync_with_stdio(false);
    cin >> H >> W;
    REP(i,H){
        REP(j,W){
            cin >> S[i][j];
        }
    }
    ll ans = 0;
    REP(i,H){
        REP(j,W){
            if(used[i][j]) continue;
            cntb = 0;
            cntw = 0;
            dfs(i,j);
            ans += cntb * cntw;
        }
    }
  cout << ans << endl;
}
